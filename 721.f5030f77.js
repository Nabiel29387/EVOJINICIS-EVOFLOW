"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[721],{1037:function(t,e,r){r.d(e,{Z:function(){return Lt}});var s=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fast-fade"}},[t.show?e("div",{attrs:{id:"pop-up"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close.apply(null,arguments)}}},[e("contextNav",{staticClass:"pop-up-nav",attrs:{buttons:t.buttons},on:{pushToggle:t.toggleValue}}),t.includeCopyPaste?e("QCopyPaste",{attrs:{quote:t.quote,user:t.user}}):t._e(),t.includeBOM?e("verifyBOM",{attrs:{user:t.user}}):t._e(),t.includeINV?e("verifyMaterial",{attrs:{user:t.user}}):t._e()],1):t._e()])},i=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-cp"},["new"===t.quote.status?e("div",{staticClass:"q-cp-block",staticStyle:{"max-width":"650px"}},[e("v-form",{staticClass:"q-status-form"},[e("v-text-field",{staticStyle:{"min-width":"270px"},attrs:{label:"Optional Customer's Email",placeholder:"optional_customer_email@company.com","hide-details":""},model:{value:t.contactEmail,callback:function(e){t.contactEmail=e},expression:"contactEmail"}}),e("v-btn",{attrs:{color:"success",round:""},on:{click:t.customerContacted}},[t._v("Move Quote Status to Pending")])],1),e("div",[t._v("NOTE once moved to pending, a 30 Day countdown will start and will let you know when the quote has expired")])],1):t._e(),e("div",{staticClass:"q-cp-block",staticStyle:{"max-width":"300px"}},[e("SideOfBolts")],1),e("div",{staticClass:"q-cp-copy",attrs:{id:"cp-all"}},[e("table",{on:{click:function(e){return t.copyByID("cp-all")}}},[e("tr",[e("td",[e("img",{attrs:{src:"/img/isotek_200x70.png",height:"42"}})]),e("td",{staticStyle:{width:"100px"}}),e("td")]),e("tr",[e("td",[e("table",[e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Last Update:")]),e("td",[t._v(t._s(t.lastUpdatedDate))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Quote Number:")]),e("td",[t._v(t._s(t.quote._id))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Customer Name:")]),e("td",[t._v(t._s(t.quote.qData.customer))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Job / Project:")]),e("td",[t._v(t._s(t.quote.qData.job))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Quote Total Price:")]),e("td",[t._v("$"+t._s(t.totalPrice))])]),t.showWaterMarketDiscount?e("tr",{staticClass:"q-promo"},[e("td",{staticClass:"txt-right"},[t._v("ORDER IN 48HRS PROMO Price:")]),e("td",[t._v("$"+t._s(t.discountPrice)+" (Additional 5% Discount)")])]):t._e(),t._m(0),t._m(1)])]),e("td"),e("td",[e("table",[e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Representative:")]),e("td",[t._v(t._s(t.user.displayName))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Email:")]),e("td",[e("a",{attrs:{href:`mailto:${t.user.email}`}},[t._v(t._s(t.user.email))])])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Address:")]),e("td",[t._v(t._s(t.user.address.line1))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"}),e("td",[t._v(t._s(t.user.address.line2))])]),e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Primary:")]),e("td",[e("a",{attrs:{href:`tel:${t.user.phone.primary}`}},[t._v(t._s(t.user.phone.primary))])])]),t.user.phone.alternative?e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Alternative:")]),e("td",[e("a",{attrs:{href:`tel:${t.user.phone.alternative}`}},[t._v(t._s(t.user.phone.alternative))])])]):t._e()])])])]),e("br"),e("div",{attrs:{id:"cp-items"},on:{click:function(e){return t.copyByID("cp-items")}}},[e("table",{staticClass:"q-cp-items"},[e("tr",t._l(this.printHeaders,(function(r){return e("th",{key:r.text,staticClass:"q-cp-header",style:r.width?`width: ${r.width}`:""},[t._v(" "+t._s(r.text)+" ")])})),0),t._l(this.quote.qItems,(function(r,s){return[e("CPRow",t._b({key:`cp-ln-${s}`},"CPRow",r,!1)),r.fasteners&&"I"===r.fasteners.state?e("CPRow",t._b({key:`cp-ln-${s}-fst`,attrs:{parentQty:Number(r.qty)}},"CPRow",r.fasteners,!1)):t._e()]})),e("tr",[e("td"),e("td"),e("td"),e("td"),e("td"),e("td",{staticClass:"txt-right q-header-exp"},[t._v("TOTAL")]),e("td",{staticClass:"txt-right"},[e("b",[t._v("$"+t._s(t.totalPrice))])])]),t.totalAddon?e("tr",[e("td"),e("td"),e("td"),e("td"),e("td"),e("td",{staticClass:"txt-right q-header-exp q-addon"},[t._v("FASTENERS")]),e("td",{staticClass:"txt-right q-addon"},[e("b",[t._v("+$"+t._s(t.totalAddon))])])]):t._e(),t.showWaterMarketDiscount?e("tr",[e("td"),e("td"),e("td"),e("td",{staticClass:"txt-right q-promo"},[t._v("ORDER IN 48HRS")]),e("td",{staticClass:"txt-right q-promo"},[t._v("5% OFF")]),e("td",{staticClass:"txt-right q-header-exp"},[t._v("PROMO TOTAL")]),e("td",{staticClass:"txt-right q-promo"},[e("b",[t._v("$"+t._s(t.discountPrice))])])]):t._e()],2),e("br"),t.torqueDisclaimer?e("div",[t._v(" "+t._s(t.torqueDisclaimer)+" ")]):t._e(),e("br"),t.modularDisclaimer?e("div",[t._v(" "+t._s(t.modularDisclaimer)+" ")]):t._e()])])])},a=[function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Quote Lead Time:")]),e("td",[t._v("CONTACT Lamons Houston for lead time ")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"txt-right q-header-exp"},[t._v("Quote Validity:")]),e("td",[t._v("10 Days")])])}],n=r(3576),l=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"txt-right"},[t._v(t._s(t.ln))]),e("td",[t._v(t._s(t.pn))]),e("td",[e("span",{staticClass:"desc",domProps:{innerHTML:t._s(t.productDescription)}}),e("span",{staticClass:"desc",domProps:{innerHTML:t._s(t.gasketDescription)}}),e("span",{staticClass:"desc",domProps:{innerHTML:t._s(t.kitDescription)}}),e("span",{staticStyle:{color:"red"},domProps:{innerHTML:t._s(t.itemCustomizations)}}),e("span",{staticClass:"addition",domProps:{innerHTML:t._s(t.itemAdditions)}})]),e("td",{staticClass:"txt-right"},[t._v(t._s(t.torque))]),e("td",{staticClass:"txt-right"},[t._v(t._s(t.qty))]),e("ItemPrice",{attrs:{price:t.p&&t.p.up?t.p.up:0,error:t.p&&t.p.error?t.p.error:"",qty:1,showEach:!1,fasteners:t.fasteners}}),e("ItemPrice",{attrs:{price:t.p&&t.p.up?t.p.up:0,error:t.p&&t.p.error?t.p.error:"",qty:t.parentQty?t.parentQty*t.qty:t.qty,showEach:!1,fasteners:t.fasteners}})],1)},c=[],d=r(5058);const u=t=>t.replaceAll("| ","| <b>").replaceAll(" ::","</b>");var p={name:"QCopyPasteRow",mixins:[n.Z],components:{ItemPrice:d.Z},props:{ln:{type:String},qty:{required:!0},pn:{type:String,required:!0},desc:{type:String,default:""},q:{type:Object,default(){return{}}},d:{type:Object,default(){return{}}},p:{type:Object,default(){return{}}},trq:{type:Object,default(){return{}}},error:{type:Object,default(){return{}}},fasteners:{type:Object,default(){return{}}},parentQty:{type:Number,default:0}},computed:{brandTitle(){return this.$store.getters["dp/brands/brandTitle"]},gTypeTitle(){return this.$store.getters["dp/gTypeTitle"]},facingTitle(){return this.$store.getters["dp/facingTitle"]},retainerTitle(){return this.$store.getters["dp/retainerTitle"]},sealInnerTitle(){return this.$store.getters["dp/seals/sealTitle"]},sealOuterTitle(){return this.$store.getters["dp/seals/sealOuterTitle"]},sleeveTitle(){return this.$store.getters["dp/sleeves/sleeveTitle"]},isoWasherTitle(){return this.$store.getters["dp/isoWashers/isoWasherTitle"]},retWasherTitle(){return this.$store.getters["dp/retWashers/retWasherTitle"]},descRows(){if(-1===this.desc.indexOf(" | "))return"";const t=this.desc.split("||");return t.map((t=>u(`| ${t}`)))},brandLookUp(){return"PW"===this.q.brand||"MW"===this.q.brand?this.q.product:this.q.brand},productDescription(){if(!this.q)return"";if(this.descRows)return this.descRows[0]?`${this.descRows[0]}`:"";const{gType:t,nSize:e,pClass:r,bore:s}=this.q,i=this.brandLookUp?` |&nbsp;<b>${this.brandTitle(this.brandLookUp)}</b>`:"",o=r?` - <b>${r}</b>`:"",a=s&&"NA"!==s?` - <b>${s}</b> bore`:"",n=t?` |&nbsp;${this.gTypeTitle(t)}`:"";let l=e?`|&nbsp;<b>${e}</b>`:"";return this.q.boltSize&&(l=`|&nbsp;<b>${this.q.boltSize}</b>"`),`${l}${o}${a}${n}${i} `},gasketDescription(){if(!this.q)return"";if(this.descRows)return this.descRows[1]?`${this.descRows[1]}`:"";const{brand:t,retMat:e,seal:r,seal2:s,mesh:i,ringMat:o}=this.q;if(!e)return"";let a="retainer";o&&(a="core"),"PW"===t&&(a="");const n=e?`|&nbsp;<b>${this.retainerTitle(t,e)}</b> ${a}`:"",l=o?`|&nbsp;<b>${this.facingTitle(o)}</b>&nbsp;facing`:"",c=r?`|&nbsp;<b>${this.sealInnerTitle(t,r)}</b>&nbsp;seal`:"",d=s&&"IGS"!==t?`|&nbsp;<b>${this.sealOuterTitle(t,s)}</b>&nbsp;outer&nbsp;seal`:"",u=i?`|&nbsp;<b>${i}</b>g&nbsp;mesh`:"";return`${n} ${l} ${c} ${d} ${u} `},kitDescription(){if(!this.q)return"";if(this.descRows)return this.descRows[2]?`${this.descRows[2]}`:"";const t=this.q.xx||{},{sleeveM:e,sleeveL:r,isoWasher:s,retWasher:i,dbl:o}=this.q,a=s?`<b${t.sleeveL?' style="color: red"':""}>${r}</b>" `:"",n=e?`|&nbsp;${a}<b${t.sleeveM?' style="color: red"':""}>${this.sleeveTitle(e)}</b>&nbsp;iso.&nbsp;sleeve `:"",l=s?`|&nbsp;<b${t.isoWasher?' style="color: red"':""}>${this.isoWasherTitle(s)}</b>&nbsp;iso.&nbsp;wshr `:"",c=i?`|&nbsp;<b${t.retWasher?' style="color: red"':""}>${this.retWasherTitle(i)}</b>&nbsp;ret.&nbsp;wshr `:"";let d="";return void 0!==o&&(d=o?`|&nbsp;<b${t.dbl?' style="color: red"':""}>DBL</b> set`:`|&nbsp;<b${!1===t.dbl?' style="color: red"':""}>SGL</b>&nbsp;set`),`${n}${l}${c}${d} `},itemCustomizations(){if(!this.q)return"";if(!this.q.xx)return"";const t=Object.keys(this.q.xx)||[];if(0===t.length)return"";const e=["swSet","sleeveL","sleeveM","isoWasher","retWasher","dbl"];let r=">> <b>custom</b> ";this.q.xx.label&&this.q.xx.label===this.q.xx.laser&&(r+=` |&nbsp;laser & label: <b>${this.q.xx.label}</b>`,e.push("laser"),e.push("label"));for(const s of t){if(-1!==e.indexOf(s))continue;const t=this.q.xx[s];r+=!0===t||!1===t?` | <b>${s}</b>`:` |&nbsp;${s}: <b>${t}</b> `}return r},torque(){if(this.trq){const t=this.trqData(this);if(t){const{sug:e}=t.trqR;return`${Math.round(e.torque.val)} ${e.torque.unit.replace(/ /g,"")}`}}return""},itemAdditions(){if(!this.fasteners)return"";if("S"!==this.fasteners.state)return"";if(!this.fasteners.q)return"";const{pn:t,qty:e,q:r,p:s}=this.fasteners,{len:i,mat:o,nutMat:a}=r;return`<br><b>ADD ${i.toFixed(2)}" long ${o}</b> stud & <b>${a}</b> 2 nuts for $ <b>${s.up}</b> x <b>${e}</b> / line pn <b>${t}</b>`}}},h=p,m=r(1001),v=(0,m.Z)(h,l,c,!1,null,"04b10182",null),_=v.exports,f=r(2867),b={name:"QCopyPaste",mixins:[n.Z],components:{CPRow:_,SideOfBolts:f.Z},props:{quote:{type:Object,required:!0},user:{type:Object,required:!0}},data(){return{contactEmail:"",printHeaders:[{text:"LN#",width:"5px",align:"left"},{text:"PART NUMBER",width:"230px",align:"left"},{text:"DESCRIPTION",align:"left"},{text:"SUG-TRQ",width:"120px",align:"right"},{text:"QTY",width:"60px",align:"right"},{text:"USD EACH",width:"80px",align:"right"},{text:"USD NET",width:"80px",align:"right"}]}},destroyed(){this.contactEmail=""},computed:{company(){return"LAMONS"},rightNow(){const t=new Date;return t.toLocaleString()},lastUpdatedDate(){const t=new Date(this.quote.updatedAt);return t.toLocaleString()},showWaterMarketDiscount(){return this.$store.getters["account/distDNV"]&&this.$store.getters["quote/waterMarketDiscount"]},totalPrice(){return this.numberFormat(this.quote.qData.priceNet,2)},discountPrice(){return this.numberFormat(.95*this.quote.qData.priceNet,2)},torqueDisclaimer(){const t=this.quote.qItems.find((t=>t.trq&&t.trq.torqueDisclaimer&&t.q.product&&"modular"!==t.q.product));return t?t.trq.torqueDisclaimer:""},modularDisclaimer(){const t=this.quote.qItems.find((t=>t.q&&t.q.product&&"modular"===t.q.product));return t?"Lamons does not take responsibility for Lamons Pressio Modular Seal Installation/Performance. Installers must refer to installation instructions. Pressio modular seals are manufactured by 4pipes GmbH, assembled by Lamons IsoTek U.S.A. Lamons Pressio modular seals are rated to 20psig (40 Feet Static Head), pipe must be centered/supported, and bolts shall be tightened with a torque wrench, never with power tools. Returns: Re-stocking charge, 50% of order value, shipping paid by customer. Product may not be returned if subject to being in field.":""},totalAddon(){const t=this.quote.qItems.reduce(((t,e)=>{if(!e.d)return t;if(!e.fasteners)return t;if("S"!==e.fasteners.state)return t;if(!e.fasteners.p)return t;const r=e.fasteners.qty*(e.fasteners.p.up||e.fasteners.p.sp||0)*e.qty;return t+r}),0);return this.numberFormat(t,2)}},methods:{customerContacted(){const t={user_id:this.auth_id,status:"pending"};t.customerContact=this.contactEmail||"blank",this.patchQuote(t),this.contactEmail=""},patchQuote(t){if(this.quote._id){const e=t;e._id=this.quote._id,this.$store.dispatch("quote/updateQuote",{data:e})}}}},y=b,q=(0,m.Z)(y,o,a,!1,null,"e9b1f2c2",null),g=q.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qv-bom-list"},t._l(t.verifiedBOMs,(function(r,s){return e("BOM",t._b({key:s,attrs:{index:s}},"BOM",r,!1))})),1)},w=[],C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qv-bom-item"},[e("h2",{on:{click:function(e){t.showItem=!t.showItem}}},[t._v(" "+t._s(t.index+1)),e("v-icon",{attrs:{color:t.allCorrect?"green":"red"}},[t._v(" "+t._s(t.showItem?"expand_more":"chevron_right")+" ")]),t._v(t._s(t.partNumber)+" ")],1),t.hasBom?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showItem,expression:"showItem"}],staticClass:"qv-bom-details"},[e("h3",{on:{click:function(e){t.pnsShow=!t.pnsShow}}},[e("v-icon",{attrs:{color:t.allPnsCorrect?"green":"red",small:""}},[t._v(" "+t._s(t.pnsShow?"expand_more":"chevron_right")+" ")]),t._v("Items / Part Numbers ")],1),e("BomItems",t._b({directives:[{name:"show",rawName:"v-show",value:t.pnsShow,expression:"pnsShow"}],staticClass:"bomTable"},"BomItems",t.vrBom,!1)),e("h3",{on:{click:function(e){t.opsShow=!t.opsShow}}},[e("v-icon",{attrs:{color:t.allOpsCorrect?"green":"red",small:""}},[t._v(" "+t._s(t.opsShow?"expand_more":"chevron_right")+" ")]),t._v("Operations ")],1),e("BomOperations",t._b({directives:[{name:"show",rawName:"v-show",value:t.opsShow,expression:"opsShow"}],staticClass:"bomTable"},"BomOperations",t.vrBom,!1)),e("h3",{on:{click:function(e){t.matsShow=!t.matsShow}}},[e("v-icon",{attrs:{color:t.allMatCorrect?"green":"red",small:""}},[t._v(" "+t._s(t.matsShow?"expand_more":"chevron_right")+" ")]),t._v("Materials ")],1),e("BomMaterials",t._b({directives:[{name:"show",rawName:"v-show",value:t.matsShow,expression:"matsShow"}],staticClass:"bomTable"},"BomMaterials",t.vrBom,!1)),t.errItem?e("h3",{on:{click:function(e){t.showErrors=!t.showErrors}}},[e("v-icon",{attrs:{color:t.errItem?"green":"red",small:""}},[t._v(" "+t._s(t.showErrors?"expand_more":"chevron_right")+" ")]),t._v("Errors ")],1):t._e(),t.errItem?e("BomErrors",{directives:[{name:"show",rawName:"v-show",value:t.showErrors,expression:"showErrors"}],staticClass:"bomTable",attrs:{vrBom:t.vrBom,error:t.error}}):t._e(),e("br"),t.missingOps.length>0?e("v-btn",{attrs:{small:"",color:"info"},on:{click:t.copyMissingOps}},[t._v("Missing Operations")]):t._e(),t.missingMats.length>0?e("v-btn",{attrs:{small:"",color:"info"},on:{click:t.copyMissingMats}},[t._v("Missing Materials")]):t._e(),e("br"),t.vrBom.items.length>0?e("div",[e("v-btn",{attrs:{small:"",color:"yellow"},on:{click:t.updateBOM}},[t._v("update BOM line "+t._s(t.index+1))]),e("v-btn",{attrs:{small:"",color:"error"},on:{click:t.updatePrice}},[t._v("!! update COST line "+t._s(t.index+1)+" !!")])],1):t._e(),t.missingMats.length>0||t.missingOps.length>0?e("textarea",{staticStyle:{width:"770px"},attrs:{id:t.praID}}):t._e()],1):t._e()])},k=[],S=function(){var t=this,e=t._self._c;return e("table",[t._m(0),t._l(t.items,(function(t,r){return e("PartRow",{key:r,attrs:{part:t}})}))],2)},O=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Part Num")]),e("th",[t._v("Description")]),e("td",[t._v("UM")]),e("th",[t._v("Product")]),e("td",[t._v("Planner")]),e("td",[t._v("Family")]),e("th",[t._v("from")]),e("th",[t._v("exp")])])}],M=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"PartRow",style:t.hasError},[e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.part.pn)+" ")]),e("td",{class:{"txt-err":t.hasDescriptionError},on:{click:t.copyTD}},[t._v(" "+t._s(t.part.desc)+" ")]),e("td",{class:{"txt-err":t.hasUMError},on:{click:t.copyTD}},[t._v(" "+t._s(t.part.um||"")+" ")]),e("td",{class:{"txt-err":t.hasProductCodeError},on:{click:t.copyTD}},[t._v(" "+t._s(t.part.productCode||"")+" ")]),e("td",{class:{"txt-err":t.hasPlannerCodeError},on:{click:t.copyTD}},[t._v(" "+t._s(t.part.planner||"")+" ")]),e("td",{class:{"txt-err":t.hasFamilyCodeError},on:{click:t.copyTD}},[t._v(" "+t._s(t.part.family||"")+" ")]),t.part.from?e("td",{staticClass:"txt-err",on:{click:t.copyTD}},[t._v(" "+t._s(t.part.from.join(", "))+" ")]):e("td",[t._v(" - ")]),t.part.exp?e("td",{staticClass:"txt-err"},[t._v(" "+t._s(t.part.exp.join(", "))+" ")]):e("td",[t._v(" - ")])])},T=[],$={name:"PartRow",mixins:[n.Z],props:{part:{type:Object,required:!0}},computed:{hasError(){return this.part.exp?0===this.part.exp.length?"":"missing"===this.part.exp[0]?"color: red; font-weight: bold":"color: black; font-weight: bold":""},hasDescriptionError(){return-1!==this.part.exp.indexOf("incorrect part")},hasProductCodeError(){return-1!==this.part.exp.indexOf("incorrect product code")},hasPlannerCodeError(){return-1!==this.part.exp.indexOf("incorrect planer code")},hasFamilyCodeError(){return-1!==this.part.exp.indexOf("incorrect family code")},hasUMError(){return-1!==this.part.exp.indexOf("incorrect unit of measure")}},methods:{}},N=$,P=(0,m.Z)(N,M,T,!1,null,null,null),D=P.exports,E={name:"vrBomItems",components:{PartRow:D},props:{items:{required:!0}}},B=E,I=(0,m.Z)(B,S,O,!1,null,null,null),R=I.exports,L=function(){var t=this,e=t._self._c;return e("table",[t._m(0),t._l(t.mats,(function(t,r){return e("MaterialRow",{key:r,attrs:{material:t}})}))],2)},A=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Part Num")]),e("th",[t._v("OP")]),e("th",[t._v("WC")]),e("th",[t._v("Seq")]),e("th",[t._v("Mat")]),e("th",[t._v("Qty")]),e("th",[t._v("SF")]),e("th",[t._v("UM")]),e("th",[t._v("from")]),e("th",[t._v("exp")])])}],Q=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"MaterialRow",style:t.hasError},[e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.material.pn)+" ")]),e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.material.op)+" ")]),e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.material.wc)+" ")]),e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.material.sq)+" ")]),e("td",{class:{"txt-err":t.hasMatError},on:{click:t.copyTD}},[t._v(" "+t._s(t.material.mat)+" ")]),e("td",{class:{"txt-err":t.hasQtyError},on:{click:t.copyTD}},[t._v(" "+t._s(t.material.qty)+" ")]),e("td",{class:{"txt-err":t.hasScrapError},on:{click:t.copyTD}},[t._v(" "+t._s(t.material.sf)+" ")]),e("td",{class:{"txt-err":t.hasUMError},on:{click:t.copyTD}},[t._v(" "+t._s(t.material.um)+" ")]),t.material.from?e("td",{staticClass:"txt-err",on:{click:t.copyTD}},[t._v(" "+t._s(t.material.from.join(", "))+" ")]):e("td",[t._v(" - ")]),t.material.exp?e("td",{staticClass:"txt-err"},[t._v(" "+t._s(t.material.exp.join(", "))+" ")]):e("td",[t._v(" - ")])])},Z=[],j={name:"MaterialRow",mixins:[n.Z],props:{material:{type:Object,required:!0}},computed:{hasError(){return this.material.exp?0===this.material.exp.length?"":"missing"===this.material.exp[0]?"color: red; font-weight: bold":"color: black; font-weight: bold":""},hasMatError(){return-1!==this.material.exp.indexOf("incorrect material")},hasQtyError(){return-1!==this.material.exp.indexOf("incorrect qty")},hasScrapError(){return-1!==this.material.exp.indexOf("incorrect scrap factor")},hasUMError(){return-1!==this.material.exp.indexOf("incorrect unit of measure")}},methods:{}},W=j,U=(0,m.Z)(W,Q,Z,!1,null,null,null),H=U.exports,F={name:"vrBomMat",components:{MaterialRow:H},props:{mats:{required:!0}}},V=F,J=(0,m.Z)(V,L,A,!1,null,null,null),G=J.exports,K=function(){var t=this,e=t._self._c;return e("table",{staticClass:"bomTable"},[t._m(0),t._l(t.ops,(function(t,r){return e("OperationRow",{key:r,attrs:{op:t}})}))],2)},z=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Part Num")]),e("th",[t._v("OP")]),e("th",[t._v("WC")]),e("td",[t._v("PPMH")]),e("td",[t._v("WC Notes")]),e("th",[t._v("from")]),e("th",[t._v("exp")])])}],Y=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"OperationRow",style:t.hasError},[e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.op.pn)+" ")]),e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.op.op)+" ")]),e("td",{on:{click:t.copyTD}},[t._v(" "+t._s(t.op.wc)+" ")]),e("td",{class:{"txt-err":t.hasPpMhError},on:{click:t.copyTD}},[t._v(" "+t._s(t.op._mh)+" ")]),e("td",{domProps:{innerHTML:t._s(t.wcNotes)},on:{click:t.copyTD}}),t.op.from?e("td",{staticClass:"txt-err",on:{click:t.copyTD}},[t._v(" "+t._s(t.op.from.join(", "))+" ")]):e("td",[t._v(" - ")]),t.op.exp?e("td",{staticClass:"txt-err"},[t._v(" "+t._s(t.op.exp.join(", "))+" ")]):e("td",[t._v(" - ")])])},X=[],tt={name:"OperationRow",mixins:[n.Z],props:{op:{type:Object,required:!0}},computed:{wcNotes(){return this.op.wn?this.op.wn.replace(/\n/g,"<br>"):""},hasError(){return this.op.exp?0===this.op.exp.length?"":"missing"===this.op.exp[0]?"color: red; font-weight: bold":"color: black; font-weight: bold":""},hasPpMhError(){return-1!==this.op.exp.indexOf("incorrect PPMH")}},methods:{}},et=tt,rt=(0,m.Z)(et,Y,X,!1,null,null,null),st=rt.exports,it={name:"vrBomOps",components:{OperationRow:st},props:{ops:{required:!0}}},ot=it,at=(0,m.Z)(ot,K,z,!1,null,null,null),nt=at.exports,lt=function(){var t=this,e=t._self._c;return e("table",[t._m(0),t._l(t.vrBom.errors,(function(r,s){return e("tr",{key:s},[e("td",[t._v(t._s(r.partNum))]),e("td",[t._v(t._s(r.type))]),e("td",[t._v(t._s(r.exp))])])})),t.error?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" "+t._s(t.error)+" ")])]):t._e(),t.vrBom&&t.vrBom.error?e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" "+t._s(t.vrBom.error[0])+" ")])]):t._e()],2)},ct=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Part Num")]),e("th",[t._v("from")]),e("th",[t._v("exp")]),e("th",[t._v("link")])])}],dt={name:"vrBomError",props:{vrBom:{required:!0},error:{}}},ut=dt,pt=(0,m.Z)(ut,lt,ct,!1,null,null,null),ht=pt.exports,mt={name:"vrBom",components:{BomItems:R,BomMaterials:G,BomOperations:nt,BomErrors:ht},props:{vrBom:{default(){return{items:[],ops:[],mats:[]}}},q:{required:!0},qty:{required:!0},error:{},index:{type:Number,required:!0}},data(){return{showItem:!1,errItem:!1,pnsShow:!0,pnsErr:!1,matsShow:!0,opsShow:!0,showErrors:!1}},computed:{praID(){return`pra${this.index}`},partNumber(){return this.vrBom?this.vrBom.items?this.vrBom.items[0]?this.vrBom.items[0].pn:"-- no ITEM":"-- no ITEMS":"-- no BOM"},hasBom(){return!!this.vrBom&&!(!this.vrBom||!this.vrBom.mats)},allPnsCorrect(){return!0},allOpsCorrect(){return!this.vrBom.ops.find((t=>t.exp.length>0))},allMatCorrect(){return!this.vrBom.mats.find((t=>t.exp.length>0))},allCorrect(){return this.allPnsCorrect&&this.allOpsCorrect&&this.allMatCorrect},missingOps(){const t=[];if(!this.vrBom||!this.vrBom.ops)return!1;for(const e of this.vrBom.ops)e.exp.length>0&&"missing"===e.exp[0]&&t.push(`${e.pn}\t${e.op}\t${e.wc}\t${e._mh}`);return t},missingMats(){const t=[];if(!this.vrBom||!this.vrBom.mats)return!1;for(const e of this.vrBom.mats)e.exp.length>0&&"missing"===e.exp[0]&&t.push(`${e.pn}\t${e.op}\t${e.wc}\t${e.sq}\t${e.mat}\t${e.qty}\t${e.sf}\t${e.um}`);return t}},watch:{partNumber:{handler:"updateExpansions",immediate:!0}},methods:{updateExpansions(){this.opsShow=!this.allOpsCorrect,this.pnsShow=!0,this.matsShow=!this.allMatCorrect,this.allCorrect?this.showItem=!1:this.showItem=!0,this.error&&this.error.length>0||this.vrBom&&this.vrBom&&this.vrBom.error&&this.vrBom.error.length>0?this.errItem=!0:this.errItem=!1,this.allCorrect&&(this.pnsShow=!0,this.opsShow=!1,this.matsShow=!1)},copyMissingOps(){const t=document.getElementById(this.praID);t.innerHTML=`${this.missingOps.join("\n")}\n`,t.focus(),t.select(),t.rows=this.missingOps.length+1,this.copySelectionText(),this.copySelectionText()},copyMissingMats(){const t=document.getElementById(this.praID);t.innerHTML=`${this.missingMats.join("\n")}\n`,t.focus(),t.select(),t.rows=this.missingMats.length+1,this.copySelectionText()},copySelectionText(){try{return document.execCommand("copy")}catch(t){return!1}},updateBOM(){this.$store.dispatch("quote/addItem",{index:this.index,query:this.q,qty:this.qty,o:{updateBOM:1}})},updatePrice(){this.$store.dispatch("quote/addItem",{index:this.index,query:this.q,qty:this.qty,o:{updateBOM:1,updatePrice:1}})}}},vt=mt,_t=(0,m.Z)(vt,C,k,!1,null,null,null),ft=_t.exports,bt={name:"BomList",components:{BOM:ft},computed:{verifiedBOMs(){const t=this.$store.getters["quote/verifiedBOMs"];return t}}},yt=bt,qt=(0,m.Z)(yt,x,w,!1,null,null,null),gt=qt.exports,xt=function(){var t=this,e=t._self._c;return t.isGetPending?e("transition",{attrs:{name:"fast-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isGetPending,expression:"isGetPending"}],staticClass:"qv-material-loading"},[e("ga-spinner"),t.isGetPending?e("h3",[t._v(" VERIFYING ")]):t._e()],1)]):e("transition",{attrs:{name:"fast-fade"}},[e("div",{staticClass:"qv-material-list"},[e("div",{staticClass:"qv-material-actions"},[e("span",{staticClass:"qv-material-header"},[t._v("MATERIAL VERIFICATION")]),t._v(" for "),e("span",{staticClass:"qv-material-header"},[t._v(t._s(t.qNumber))]),"notSaved"!==t.quote.status?e("v-btn",{attrs:{small:"",color:"green"},on:{click:function(e){return t.saveVerifiedMaterial()}}},[e("v-icon",{attrs:{left:"",dark:""}},[t._v(" save ")]),t._v(" SAVE ")],1):t._e(),t.quote.verify&&t.quote.verify.materials?e("v-btn",{attrs:{small:"",color:"red"},on:{click:function(e){return t.resetVerifiedMaterial()}}},[e("v-icon",{attrs:{left:"",dark:""}},[t._v(" delete_forever ")]),t._v(" RESET ")],1):t._e(),e("v-switch",{staticStyle:{display:"inline-block",margin:"0","padding-left":"80px"},attrs:{label:"Simplify",color:"primary",dense:"",value:!0,"hide-details":""},model:{value:t.simplify,callback:function(e){t.simplify=e},expression:"simplify"}}),e("v-switch",{staticStyle:{display:"inline-block",margin:"0","padding-left":"80px"},attrs:{label:"Edit Mode",color:"green",dense:"",value:!0,"hide-details":""},model:{value:t.editMode,callback:function(e){t.editMode=e},expression:"editMode"}})],1),e("h3",{staticStyle:{background:"#111",color:"white",cursor:"pointer",padding:"0.5em"},on:{click:function(e){t.showInventory=!t.showInventory}}},[e("v-icon",{attrs:{color:"white",small:""}},[t._v(" "+t._s(t.showInventory?"expand_more":"chevron_right")+" ")]),t._v("Inventory ")],1),t.showInventory?e("div",[t.editMode?t._e():e("v-btn",{attrs:{small:"",flat:"",color:"green"},on:{click:function(e){return t.copyByID("q-verify-material-inventory")}}},[e("v-icon",{attrs:{left:"",dark:""}},[t._v(" file_copy ")]),t._v(" Copy Inventory Table ")],1),e("table",{staticClass:"bomTable",attrs:{id:"q-verify-material-inventory"}},[e("tr",{staticClass:"qv-material-thr"},[e("th",[t._v("Part Num")]),e("th",[t._v("Needed")]),e("th",{staticStyle:{color:"rgb(47,117,181)"}},[t._v(" On Hand ")]),t.simplify?t._e():e("th",[t._v("Ordered")]),t.simplify?t._e():e("th",[t._v("WIP")]),t.simplify?e("th",[t._v("Ordered/WIP")]):t._e(),e("th",{staticStyle:{color:"rgb(255,102,0)"}},[t._v(" Total Out ")]),t.simplify?t._e():e("th",[t._v("Left Overs")]),t.simplify?t._e():e("th",[t._v("Safety Stock")]),t.simplify?t._e():e("th",[t._v("Below")]),e("th",[t._v("Rush?")]),e("th",[t._v("Notes")]),e("th",[t._v("Lead Days")]),t.simplify?t._e():e("th",[t._v("STD $")]),t.simplify?t._e():e("th",[t._v("CUSTOM $")]),e("th",[t._v("Lines")])]),t._l(t.matInv,(function(r,s){return e("MaterialRow",{key:s,attrs:{simplify:t.simplify,material:r,editMode:t.editMode}})}))],2)],1):t._e(),e("h3",{staticStyle:{background:"#111",color:"white",cursor:"pointer",padding:"0.5em"},on:{click:function(e){t.showNest=!t.showNest}}},[e("v-icon",{attrs:{color:"white",small:""}},[t._v(" "+t._s(t.showNest?"expand_more":"chevron_right")+" ")]),t._v("Nest / Components, for now ")],1),t.showNest?e("div",[t.editMode?t._e():e("v-btn",{attrs:{small:"",flat:"",color:"green"},on:{click:function(e){return t.copyByID("q-verify-material-nest")}}},[e("v-icon",{attrs:{left:"",dark:""}},[t._v(" file_copy ")]),t._v(" Copy Nest Table ")],1),e("table",{staticClass:"bomTable",attrs:{id:"q-verify-material-nest"}},[e("tr",{staticClass:"qv-material-thr"},[e("th",[t._v("Part Num")]),e("th",[t._v("Needed")]),e("th",{staticStyle:{color:"rgb(47,117,181)"}},[t._v(" On Hand ")]),t.simplify?t._e():e("th",[t._v("Ordered")]),t.simplify?t._e():e("th",[t._v("WIP")]),t.simplify?e("th",[t._v("Ordered/WIP")]):t._e(),e("th",{staticStyle:{color:"rgb(255,102,0)"}},[t._v(" Total Out ")]),t.simplify?t._e():e("th",[t._v("Left Overs")]),t.simplify?t._e():e("th",[t._v("Safety Stock")]),t.simplify?t._e():e("th",[t._v("Below")]),e("th",[t._v("Rush?")]),e("th",[t._v("Notes")]),e("th",[t._v("Lead Days")]),t.simplify?t._e():e("th",[t._v("STD $")]),t.simplify?t._e():e("th",[t._v("CUSTOM $")]),e("th",[t._v("Lines")])]),t._l(t.matNest,(function(r,s){return e("MaterialRow",{key:s,attrs:{simplify:t.simplify,material:r,editMode:t.editMode}})}))],2)],1):t._e(),e("h3",{staticStyle:{background:"#111",color:"white",cursor:"pointer",padding:"0.5em"},on:{click:function(e){t.showJobs=!t.showJobs}}},[e("v-icon",{attrs:{color:"white",small:""}},[t._v(" "+t._s(t.showJobs?"expand_more":"chevron_right")+" ")]),t._v("Jobs ")],1),t.showJobs?e("div",[t.editMode?t._e():e("v-btn",{attrs:{small:"",flat:"",color:"green"},on:{click:function(e){return t.copyByID("q-verify-material-jobs")}}},[e("v-icon",{attrs:{left:"",dark:""}},[t._v(" file_copy ")]),t._v(" Copy Jobs Table ")],1),e("table",{staticClass:"bomTable",attrs:{id:"q-verify-material-jobs"}},[e("tr",{staticClass:"qv-material-thr"},[e("th",[t._v("Part Num")]),e("th",[t._v("Needed")]),e("th",{staticStyle:{color:"rgb(47,117,181)"}},[t._v(" On Hand ")]),t.simplify?t._e():e("th",[t._v("Ordered")]),t.simplify?t._e():e("th",[t._v("WIP")]),t.simplify?e("th",[t._v("Ordered/WIP")]):t._e(),e("th",{staticStyle:{color:"rgb(255,102,0)"}},[t._v(" Total Out ")]),t.simplify?t._e():e("th",[t._v("Left Overs")]),t.simplify?t._e():e("th",[t._v("Safety Stock")]),t.simplify?t._e():e("th",[t._v("Below")]),e("th",[t._v("Rush?")]),e("th",[t._v("Notes")]),e("th",[t._v("Lead Days")]),t.simplify?t._e():e("th",[t._v("STD $")]),t.simplify?t._e():e("th",[t._v("CUSTOM $")]),e("th",[t._v("Lines")])]),t._l(t.matJob,(function(r,s){return e("MaterialRow",{key:s,attrs:{simplify:t.simplify,material:r,editMode:t.editMode}})}))],2)],1):t._e()])])},wt=[],Ct=r(629),kt=function(){var t=this,e=t._self._c;return t.showRow?e("tr",{staticClass:"MaterialRow",style:t.rowStyle},[e("td",{staticStyle:{"text-align":"left","white-space":"nowrap"},attrs:{nowrap:""},on:{click:t.copyTD}},[t._v(t._s(t.material.mat))]),e("td",{staticStyle:{"font-weight":"bold"},on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.qty)))]),e("td",{staticStyle:{"font-weight":"bold",color:"rgb(47,117,181)"},on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.inv_oh)))]),t.simplify?t._e():e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.inv_oo)))]),t.simplify?t._e():e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.inv_wip)))]),t.simplify?e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.inv_oo+t.material.inv_wip)))]):t._e(),e("td",{staticStyle:{"font-weight":"bold",color:"rgb(255,102,0)"},on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.totalOut)))]),t.simplify?t._e():e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.left)))]),t.simplify?t._e():e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.inv_ss)))]),t.simplify?t._e():e("td",{on:{click:t.copyTD}},[t._v(t._s(t.material.below))]),e("td",{on:{click:t.copyTD}},[t._v(t._s(t.round(t.material.short)))]),t.editMode?e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.material.notes,expression:"material.notes"}],staticStyle:{"white-space":"pre","overflow-x":"hidden"},attrs:{rows:t.commentRows,cols:"30"},domProps:{value:t.material.notes},on:{input:function(e){e.target.composing||t.$set(t.material,"notes",e.target.value)}}})]):e("td",{staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.material.notes?t.material.notes.replace("\n","<br>"):"")}}),t.editMode?e("td",[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.material.lead,expression:"material.lead",modifiers:{number:!0}}],staticStyle:{width:"50px"},attrs:{type:"number",step:"1",min:"1"},domProps:{value:t.material.lead},on:{input:function(e){e.target.composing||t.$set(t.material,"lead",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]):e("td",[t._v(t._s(t.material.lead))]),t.simplify?t._e():e("td",[t._v(t._s(t.dollar(t.material.c_std)))]),t.editMode&&!t.simplify?e("td",[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.material.c_cus,expression:"material.c_cus",modifiers:{number:!0}}],staticStyle:{width:"50px"},attrs:{type:"number",step:"0.01",min:"0.01"},domProps:{value:t.material.c_cus},on:{input:function(e){e.target.composing||t.$set(t.material,"c_cus",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]):t._e(),t.editMode||t.simplify?t._e():e("td",[t._v(t._s(t.material.c_cus))]),e("td",{on:{click:t.copyTD}},[t._v(t._s(t.material.for.join(", ")))])]):t._e()},St=[],Ot={name:"MaterialRow",mixins:[n.Z],props:{material:{type:Object,required:!0},editMode:{type:Boolean,default:!1},simplify:{required:!0,validator:t=>"boolean"===typeof t||null===t}},data(){return{whole:["EA","SET","KIT"]}},computed:{showRow(){return!this.simplify||"FALSE"!==this.material.below},rowStyle(){if("FALSE"===this.material.below)return"";const t="font-weight: bold;",e="color: black;",r="color: red;",s="background: rgb(255,242,204);";return"SMALL"===this.material.below||"SHORT"===this.material.below?`${e} ${t} ${s}`:"MISSING"===this.material.below?`${r} ${t}`:"TRUE"===this.material.below&&this.material.left<0?`${e} ${t} background: rgb(248,203,173);`:"TRUE"===this.material.below?`${e} ${t} ${s}`:""},commentRows(){return this.material.notes?this.material.notes.split("\n").length:1}},methods:{round(t){return-1!==this.whole.indexOf(this.material.um)?t:t?t.toFixed(2):""},dollar(t){return t?t.toFixed(2):""}}},Mt=Ot,Tt=(0,m.Z)(Mt,kt,St,!1,null,"bd335fb4",null),$t=Tt.exports,Nt={name:"VMaterial",components:{MaterialRow:$t},mixins:[n.Z],data(){return{showInventory:!0,showNest:!0,showJobs:!1,editMode:!1,simplify:!0}},computed:{auth_id(){return this.$store.getters["account/auth_id"]},...(0,Ct.rn)("quote",["quote","isGetPending"]),verifiedMaterials(){return this.$store.getters["quote/verifiedMaterials"]},qNumber(){return this.$store.getters["quote/qNumber"]},matInv(){return this.$store.getters["quote/matInv"]},matNest(){return this.$store.getters["quote/matNest"]},matJob(){return this.$store.getters["quote/matJob"]}},methods:{...(0,Ct.nv)("quote",["updateQuote"]),saveVerifiedMaterial(){this.updateQuote({data:{_id:this.qNumber,user_id:this.auth_id,"verify.materials":this.auth_id,verifiedMaterials:this.verifiedMaterials}})},resetVerifiedMaterial(){this.updateQuote({data:{_id:this.qNumber,user_id:this.auth_id,"verify.materials":this.auth_id,verifiedMaterials:[]}})}}},Pt=Nt,Dt=(0,m.Z)(Pt,xt,wt,!1,null,null,null),Et=Dt.exports,Bt={components:{QCopyPaste:g,verifyBOM:gt,verifyMaterial:Et},mixins:[n.Z],props:{show:{type:Boolean,default:!0},settings:{type:Object,required:!0},quote:{type:Object,required:!0}},data(){return{}},computed:{user(){return this.$store.getters["account/user"]},buttons(){const t=[];return t.push({text:"close",icon:"close",color:"gray",action:"close"}),this.includeCopyPaste,t},includeCopyPaste(){return-1!==this.settings.include.indexOf("copyPaste")},includeBOM(){return-1!==this.settings.include.indexOf("BOM")},includeINV(){return-1!==this.settings.include.indexOf("verifyMaterial")}},methods:{toggleValue(t){"close"===t?this.close():void 0!==this[t]&&(this[t]=!this[t])},close(){this.$emit("toggleValue","viewBook")}}},It=Bt,Rt=(0,m.Z)(It,s,i,!1,null,"8e745a3a",null),Lt=Rt.exports},5058:function(t,e,r){r.d(e,{Z:function(){return d}});var s=function(){var t=this,e=t._self._c;return t.price?e("td",{staticClass:"txt-right"},[t.costError?e("div",[e("span",{staticStyle:{color:"red","font-weight":"bold"}},[t._v("Pricing Error(s)")]),e("span",{domProps:{innerHTML:t._s(t.costError)}})]):t.showEach?e("div",{staticClass:"each"},[t._v(t._s(t.unitPrice)+t._s("isoTube"===t.product?" per FT":""))]):t._e(),e("div",{staticClass:"net"},[t._v(t._s(t.netPrice))]),e("div",{staticClass:"addition"},[t._v(t._s(t.boltAddon))])]):e("td")},i=[],o=r(3576),a={name:"td-price",mixins:[o.Z],props:{qty:{required:!0},price:{required:!0},fasteners:{required:!1},error:{default:""},product:{default:""},showEach:{default:!0}},computed:{boltsOnSide(){return this.$store.getters["quote/boltsOnSide"]},unitPrice(){return this.price?this.numberFormat(this.price,2):"-"},netPrice(){return this.costError?"":this.price?"Contact Lamons"===this.price?"ISOTEK":"Contact"===this.price?"LAMONS":this.numberFormat(this.price*this.qty,2):"-"},costError(){if(!this.error)return"";let t="";for(const e of this.error)t+=`<br>${e.pn}`;return t},boltAddon(){if(!this.fasteners)return"";if("S"!==this.fasteners.state)return"";if(!this.fasteners.p)return"";if(isNaN(this.fasteners.p.up))return"TBD";const t=this.fasteners.qty*(this.fasteners.p.up||this.fasteners.p.ms||0)*this.qty;return`+${t.toFixed(2)}`}}},n=a,l=r(1001),c=(0,l.Z)(n,s,i,!1,null,"689ba4e0",null),d=c.exports},862:function(t,e,r){r.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"QStatusActions"},[t.header?e("div",[e("QCard",{attrs:{quote:t.editQuote,"show-actions":!1,"show-history":!0}})],1):t._e(),"new"===t.currentStatus?e("v-form",{staticClass:"q-status-form"},[e("v-text-field",{staticStyle:{"min-width":"270px"},attrs:{label:"Optional Customer's Email, for reference",placeholder:"optional_customer@company.com",required:""},model:{value:t.contactEmail,callback:function(e){t.contactEmail=e},expression:"contactEmail"}}),e("v-btn",{attrs:{color:"success",round:""},on:{click:t.customerContacted}},[t._v("Status to Pending")])],1):t._e(),"pending"===t.currentStatus?e("v-form",{staticClass:"q-status-form",attrs:{value:t.validPO}},[e("v-text-field",{staticStyle:{"min-width":"270px"},attrs:{label:"Purchase Order Number (PO)",rules:[t.validPO||"Can not be blank"],required:""},model:{value:t.poNumber,callback:function(e){t.poNumber=e},expression:"poNumber"}}),e("v-btn",{attrs:{color:"success",round:""},on:{click:t.poReceived}},[t._v("Status -> In Process")])],1):t._e(),"pending"===t.currentStatus?e("v-form",{staticClass:"q-status-form",attrs:{value:t.validReason}},[e("v-select",{attrs:{label:"Quote Missed Because",items:t.missedReasons,rules:[t.validReason||"Reason is required"],required:""},model:{value:t.missedReason,callback:function(e){t.missedReason=e},expression:"missedReason"}}),e("v-btn",{attrs:{color:"warning",round:""},on:{click:t.quoteMissed}},[t._v("Status -> Missed Out")])],1):t._e(),"inProcess"===t.currentStatus?e("v-form",{staticClass:"q-status-form",attrs:{value:t.validOrderNumber}},[e("v-text-field",{attrs:{label:"Production Order Number",rules:[t.validOrderNumber||"Must be 10 characters long"],counter:10,required:""},model:{value:t.orderNumber,callback:function(e){t.orderNumber=e},expression:"orderNumber"}}),e("v-btn",{attrs:{color:"success",round:""},on:{click:t.orderEntered}},[t._v("Status -> in Process")])],1):t._e(),"inProduction"===t.currentStatus?e("v-form",{staticClass:"q-status-form",attrs:{value:t.validTrackingNumber}},[e("v-text-field",{attrs:{label:"Tracking Number",rules:[t.validTrackingNumber||"Can not be blank"],required:""},model:{value:t.trackingNumber,callback:function(e){t.trackingNumber=e},expression:"trackingNumber"}}),e("v-btn",{attrs:{color:"success",round:""},on:{click:t.orderShipped}},[t._v("Status -> Shipped")])],1):t._e()],1)},i=[],o=r(629),a=r(995),n={name:"QStatusActions",components:{QCard:a.Z},props:{quote:{type:Object,required:!0},currentStatus:{type:String,required:!0},header:{type:Boolean,default:!1}},data(){return{validEmail:!0,validReason:!0,validPO:!0,validOrderNumber:!0,validTrackingNumber:!0,contactEmail:"",missedReason:"",missedReasons:["The Lead time was too long","The Price was too high","I did not fallow up","I did not get a response","Other"],poNumber:"",orderNumber:"",trackingNumber:""}},computed:{...(0,o.rn)("quote",{updatingQuote:"isUpdatePending"}),...(0,o.rn)("quote",{editQuote:"quote"}),...(0,o.Se)("account",["isDev","auth_id"])},methods:{...(0,o.nv)("quote",["updateQuote"]),validateEmail(){if(""===this.contactEmail)this.validEmail=!1;else{const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.validEmail=t.test(this.contactEmail)}},customerContacted(){this.validateEmail();const t={user_id:this.auth_id,status:"pending"};t.customerContact=this.contactEmail||"blank",this.patchQuote(t),this.contactEmail=""},validateReason(){this.validReason=""!==this.missedReason},quoteMissed(){if(this.validateReason(),this.validReason){const t={user_id:this.auth_id,status:"missed"};t.missed=this.missedReason,this.patchQuote(t),this.missedReason=""}},validatePO(){this.validPO=""!==this.poNumber},poReceived(){if(this.validatePO(),this.validPO){const t={user_id:this.auth_id};t.po=this.poNumber,t.status="inProcess",this.patchQuote(t),this.poNumber=""}},validateOrderNumber(){""===this.orderNumber||10!==this.orderNumber.length?this.validOrderNumber=!1:this.validOrderNumber=!0},orderEntered(){if(this.validateOrderNumber(),this.validOrderNumber){const t={user_id:this.auth_id};t.order=this.orderNumber,t.status="inProduction",this.patchQuote(t),this.orderNumber=""}},validateTrackingNumber(){this.validTrackingNumber=""!==this.trackingNumber},orderShipped(){if(this.validateTrackingNumber(),this.validTrackingNumber){const t={user_id:this.auth_id};t.trackingNumber=this.trackingNumber,t.shipDate=new Date,t.status="shipped",this.patchQuote(t),this.trackingNumber=""}},patchQuote(t){if(this.editQuote._id){const e=t;e._id=this.editQuote._id,this.updateQuote({data:e})}}}},l=n,c=r(1001),d=(0,c.Z)(l,s,i,!1,null,null,null),u=d.exports},995:function(t,e,r){r.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("v-card",{staticClass:"q-card"},[e("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.showActions=!t.showActions}}},[e("div",{staticClass:"q-card-details"},[e("div",{staticClass:"q-card-title"},[t._v(" "+t._s(t.quote.qData.customer)+" ")]),e("div",{staticClass:"q-card-id"},[t.orderNumber?t._e():e("div",[t._v(t._s(t.quoteDate))]),t.orderNumber?e("div",[t._v(t._s(t.orderNumber))]):t._e(),t._v(" "+t._s(t.quote._id)+" ")])]),e("div",{staticClass:"q-card-divider",class:[t.backgroundColor]}),e("div",{staticClass:"q-card-details"},[t.quote.qData.po?e("div",{staticClass:"q-card-data"},[t._v(" "+t._s(t.quote.qData.po)+" ")]):t._e(),t.quote.qData.po?e("div",{staticClass:"q-card-exp"},[t._v(" Purchase Order # ")]):t._e(),t.quote.qData.job?e("div",{staticClass:"q-card-data"},[t._v(" "+t._s(t.quote.qData.job)+" ")]):t._e(),t.quote.qData.job?e("div",{staticClass:"q-card-exp"},[t._v(" Job / Project ")]):t._e(),t.quote.trackingNumber?e("div",{staticClass:"q-card-data"},[t._v(" "+t._s(t.quote.trackingNumber)+" ")]):t._e(),t.quote.trackingNumber?e("div",{staticClass:"q-card-exp"},[t._v(" Tracking # ")]):t._e(),e("div",{staticClass:"q-card-data"},[t._v(" $ "+t._s(t.numberFormat(t.quote.qData.priceNet,2))+" ")]),e("div",{staticClass:"q-card-exp"},[t._v(" Net Price ")])])]),t.showHistory?e("div",{staticClass:"q-card-history"},[e("table",[e("tr",[e("td",[t._v(t._s(t.formatDate(t.quote.createdAt)))]),e("td",[t._v("Create Date")])]),t._l(t.quote.history,(function(r,s){return e("tr",{key:s},[e("td",[t._v(t._s(t.formatDate(r.stamp)))]),e("td",[t._v(t._s(r.msg))])])}))],2)]):t._e(),t.showActions?e("div",{staticClass:"q-card-actions",on:{click:function(t){t.stopPropagation()}}},[e("v-spacer"),e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:"",to:{path:`/p/q/${t.quote._id}`}},slot:"activator"},[e("v-icon",{attrs:{color:"primary"}},[t._v("print")])],1),e("span",[t._v("Print Quote")])],1),e("v-tooltip",{attrs:{bottom:""}},[t.canEditQuote?e("v-btn",{attrs:{slot:"activator",small:"",icon:"",to:{path:`/estimator/${t.quote._id}`}},slot:"activator"},[e("v-icon",{attrs:{color:"green"}},[t._v(" edit ")])],1):t._e(),e("span",[t._v("Edit Quote")])],1),e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:""},on:{click:function(e){return t.quoteAction("copyPaste")}},slot:"activator"},[e("v-icon",[t._v("file_copy")])],1),e("span",[t._v("Quote Copy/Paste")])],1),e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:""},on:{click:function(e){return t.quoteAction("statusUpdate")}},slot:"activator"},[e("v-icon",[t._v("traffic")])],1),e("span",[t._v("Status Update")])],1),t.roleBOM?e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:""},on:{click:function(e){return t.quoteAction("BOM")}},slot:"activator"},[e("v-icon",[t._v("compare")])],1),e("span",[t._v("BOM")])],1):t._e(),t.roleINV?e("v-tooltip",{attrs:{bottom:""}},[e("v-btn",{attrs:{slot:"activator",small:"",icon:""},on:{click:function(e){return t.quoteAction("verifyMaterial")}},slot:"activator"},[e("v-icon",[t._v("flare")])],1),e("span",[t._v("Material Verification")])],1):t._e()],1):t._e()])},i=[],o=r(3576),a=r(629),n={name:"QuoteCard",mixins:[o.Z],props:{quote:{type:Object,required:!0},showHistory:{type:Boolean,default:!1}},data(){return{showActions:!1}},computed:{...(0,a.Se)("account",["roleBOM","roleINV","userName"]),quoteDate(){const t=new Date(this.quote.createdAt);return t.toLocaleDateString()},canEditQuote(){return"notSaved"===this.quote.status||"new"===this.quote.status||"pending"===this.quote.status},orderNumber(){return this.quote.order||this.quote.qData.order||""},backgroundColor(){const t=[];if(!this.quote.qSliders)return"";for(const e of this.quote.qSliders)e.brand&&-1===t.indexOf(e.brand)&&t.push(e.brand);return t.length>1?"MIX-fill":1===t.length?`${t[0]}-fill`:"unknown-fill"}},methods:{quoteAction(t){this.$emit("quoteAction",t,this.quote._id)}}},l=n,c=r(1001),d=(0,c.Z)(l,s,i,!1,null,null,null),u=d.exports},2867:function(t,e,r){r.d(e,{Z:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"max-width":"300px"}},[e("DRadio",t._b({attrs:{value:t.boltsOnSide},on:{updateKey:t.updateKey}},"DRadio",t.sideOfBolts,!1))],1)},i=[],o=r(5528),a={name:"SideOfBoltsToggle",components:{DRadio:o.Z},props:{items:{type:Array,default(){return[]}}},data(){return{}},computed:{boltsOnSide(){return this.$store.getters["quote/boltsOnSide"]},sideOfBolts(){return{oKey:"boltsOnSide",category:"side",label:"Bolts On the Side",type:"radio",default:"S",items:[{value:"N",code:"",text:"None"},{value:"S",code:"",text:"Suggestion"},{value:"I",code:"",text:"Included"}]}},showSideOfBolts(){for(const t of this.items)if(t&&t.q&&-1!==["ik_gasket","ik_kit","ik_swSet","gasket_kamm","gasket_sw"].indexOf(t.q.product))return!0;return!1}},methods:{updateKey({oKey:t,val:e}){"boltsOnSide"===t&&this.$store.dispatch("quote/updateQD",{oKey:t,val:e})}}},n=a,l=r(1001),c=(0,l.Z)(n,s,i,!1,null,"fa3acdc6",null),d=c.exports}}]);
//# sourceMappingURL=721.f5030f77.js.map